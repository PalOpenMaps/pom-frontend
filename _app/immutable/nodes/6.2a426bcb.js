import{p as E,b as T}from"../chunks/config.3d4082c4.js";import{S as v,i as S,s as A,k as g,a as M,q as C,e as h,C as H,l as b,h as m,c as P,m as q,r as z,n as _,D as y,b as d,u as D,E as O,F,G,T as N,U}from"../chunks/index.43b57038.js";async function w(s,o,a=0){let l=await o(s);return a+=1,l.status==200||a>=5?l:w(s,o,a)}async function B({fetch:s,params:o}){let a=E.find(i=>i.key==o.page),e=await(await w(`https://palopenmaps.org/api/pages/${a.id[o.lang]}?format=json`,s)).json();return{title:e.title,content:e.content,description:e.meta_description}}const Q=Object.freeze(Object.defineProperty({__proto__:null,load:B},Symbol.toStringTag,{value:"Module"}));function k(s){let o,a=s[4](s[1])+"",l;return{c(){o=new N(!1),l=h(),this.h()},l(e){o=U(e,!1),l=h(),this.h()},h(){o.a=l},m(e,i){o.m(a,e,i),d(e,l,i)},p(e,i){i&2&&a!==(a=e[4](e[1])+"")&&o.p(a)},d(e){e&&m(l),e&&o.d()}}}function I(s){let o,a,l,e,i,p,u,c,f;document.title=o=s[0]+" - "+s[2]("Palestine Open Maps");let n=s[1]&&k(s);return{c(){a=g("meta"),e=g("meta"),i=M(),p=g("h1"),u=C(s[0]),c=M(),n&&n.c(),f=h(),this.h()},l(t){const r=H("svelte-5eijh9",document.head);a=b(r,"META",{property:!0,content:!0}),e=b(r,"META",{property:!0,content:!0}),r.forEach(m),i=P(t),p=b(t,"H1",{});var j=q(p);u=z(j,s[0]),j.forEach(m),c=P(t),n&&n.l(t),f=h(),this.h()},h(){_(a,"property","og:title"),_(a,"content",l=s[0]+" - "+s[2]("Palestine Open Maps")),_(e,"property","og:image"),_(e,"content",T+"/img/haifa-crop.jpg")},m(t,r){y(document.head,a),y(document.head,e),d(t,i,r),d(t,p,r),y(p,u),d(t,c,r),n&&n.m(t,r),d(t,f,r)},p(t,[r]){r&5&&o!==(o=t[0]+" - "+t[2]("Palestine Open Maps"))&&(document.title=o),r&5&&l!==(l=t[0]+" - "+t[2]("Palestine Open Maps"))&&_(a,"content",l),r&1&&D(u,t[0]),t[1]?n?n.p(t,r):(n=k(t),n.c(),n.m(f.parentNode,f)):n&&(n.d(1),n=null)},i:O,o:O,d(t){m(a),m(e),t&&m(i),t&&m(p),t&&m(c),n&&n.d(t),t&&m(f)}}}function J(s,o,a){let l,{data:e}=o,{title:i,content:p,description:u}=e;const c=F("t");G(s,c,n=>a(2,l=n));function f(n){return n.replaceAll('src="/','src="https://palopenmaps.org/')}return s.$$set=n=>{"data"in n&&a(5,e=n.data)},s.$$.update=()=>{s.$$.dirty&32&&a(0,{title:i,content:p,description:u}=e,i,(a(1,p),a(5,e)))},[i,p,l,c,f,e]}class R extends v{constructor(o){super(),S(this,o,J,I,A,{data:5})}}export{R as component,Q as universal};

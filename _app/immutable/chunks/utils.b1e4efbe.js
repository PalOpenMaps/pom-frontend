import{b as c}from"./paths.ca86e669.js";async function h(o,e=window.fetch){return await(await e(o)).json()}async function f(o,e=window.fetch){let t=await e(`${c}/data/places/${o}.json`);return t?await t.json():null}function _(o){let e=["match",["get","status"]];return Object.keys(o).forEach(t=>{e.push(t),e.push(o[t].color)}),e.push("rgba(0,0,0,0)"),e}async function w(o,e=window.fetch){let t=await(await e(o)).json();return t=t.filter(a=>a.is_active&&!a.is_overlay),t}async function g(o,e,t=window.fetch){let s=await(await t(o)).json();s.sort((n,r)=>n.layer-r.layer);let p={type:"FeatureCollection",features:[]};for(const n of s){let r=Object.fromEntries(Object.entries(n).filter(([l])=>l!="boundaries")),i=e.find(l=>l.id==n.layer);r.year=r.year?r.year.split("-")[0]:i.start_year.split("-")[0],p.features.push({properties:{...r,scale:i.scale,author:i.attribution.split(",")[0]},geometry:n.boundaries})}return p}function j(o,e,t){return t!="en"&&e[t]&&e[t][o]?e[t][o]:o}function y(o){let e=o.properties;return{p1945:{pop:e.pop_1945,pal:e.pal_1945&&e.pop_1945?100*e.pal_1945/e.pop_1945:null,jsh:e.jsh_1945&&e.pop_1945?100*e.jsh_1945/e.pop_1945:null,oth:null},p2016:{pop:e.pop_2016,pal:e.pal_2016&&e.pop_2016?100*e.pal_2016/e.pop_2016:null,jsh:e.jsh_2016&&e.pop_2016?100*e.jsh_2016/e.pop_2016:null,oth:e.oth_2016&&e.pop_2016?100*e.oth_2016/e.pop_2016:null}}}function m(o,e,t){let a="";if(t){const s=new Date;s.setTime(s.getTime()+t*24*60*60*1e3),a="; expires="+s.toUTCString()}document.cookie=o+"="+(e||"")+"; SameSite=Strict"+a+"; path=/"}function d(o){const e=o+"=",t=document.cookie.split(";");for(let a=0;a<t.length;a++){let s=t[a];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null}export{w as a,g as b,d as c,f as d,_ as e,h as g,j as i,y as m,m as s};

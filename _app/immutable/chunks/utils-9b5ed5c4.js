import{c as i,a as u}from"./autoType-ca12e421.js";async function f(o,e,p=window.fetch){let l=await(await p(o)).text(),s=i(l,u);s.sort((t,r)=>t.name_en.localeCompare(r.name_en));let a={type:"FeatureCollection",features:[]};for(const t of s.filter(r=>r.change_2016!="Built & abandoned"&&r.grp_1945!="Syrian"&&r.lng)){let r={type:"Feature",geometry:{type:"Point",coordinates:[t.lng,t.lat]},properties:{type:t.type_2016?t.type_2016:t.type_1945,group:t.grp_2016?t.grp_2016:t.grp_1945,color:e[t.change_2016].color,...t}};r.properties.name_ar=t.name_ar?t.name_ar:t.name_en,a.features.push(r)}return a}async function h(o,e,p=window.fetch){let l=await(await p(o)).json();l.sort((a,t)=>a.layer-t.layer);let s={type:"FeatureCollection",features:[]};for(const a of l){let t=Object.fromEntries(Object.entries(a).filter(([n])=>n!="boundaries")),r=e.find(n=>n.id==a.layer);t.year=t.year?t.year.split("-")[0]:r.start_year.split("-")[0],s.features.push({properties:{...t,scale:r.scale,author:r.attribution.split(",")[0]},geometry:a.boundaries})}return s}function y(o,e,p){return p!="en"&&e[p]&&e[p][o]?e[p][o]:o}function m(o){let e=o.properties;return{p1945:{pop:e.pop_1945,pal:e.pal_1945&&e.pop_1945?100*e.pal_1945/e.pop_1945:null,jsh:e.jsh_1945&&e.pop_1945?100*e.jsh_1945/e.pop_1945:null,oth:null},p2016:{pop:e.pop_2016,pal:e.pal_2016&&e.pop_2016?100*e.pal_2016/e.pop_2016:null,jsh:e.jsh_2016&&e.pop_2016?100*e.jsh_2016/e.pop_2016:null,oth:e.oth_2016&&e.pop_2016?100*e.oth_2016/e.pop_2016:null}}}export{h as a,f as g,y as i,m};

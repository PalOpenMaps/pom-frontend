import{a as c}from"./config.7ea536df.js";function u(o,t,e={}){const n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=o,n}function f(o,t,e={}){for(const r of o){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let s=0;s<r[r.length-1].length;s++)if(r[r.length-1][s]!==r[0][s])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:o},t,e)}function h(o,t={}){const e=Number(o[0]),n=Number(o[1]),r=Number(o[2]),s=Number(o[3]);if(o.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const a=[e,n];return f([[a,[r,n],[r,s],[e,s],a]],t.properties,{bbox:o,id:t.id})}var g=h;async function m(o,t=window.fetch){const e=await(await t(o)).json();return e.features=e.features.map(n=>(n.properties.end=n.properties.end||1e4,n.properties.start=n.properties.start||0,n)),e}async function _(o,t=window.fetch){let e=await t(`${c}/data/places/${o}.json`);return e?await e.json():null}function d(o,t){let e=["match",["get",t]];return Object.keys(o).forEach(n=>{e.push(n),e.push(o[n].color)}),e.push("rgba(0,0,0,0)"),e}function b(o,t,e){let n=["all",["in","status",...o.map(r=>r.key)],["in","group",...t.map(r=>r.key)]];return e&&(n=[...n,["<=","start",e],[">=","end",e]]),n}async function j(o,t=window.fetch){return await(await t(o)).json()}async function y(o,t,e=window.fetch){let r=await(await e(o)).json();r.sort((a,i)=>a.layer-i.layer);let s={type:"FeatureCollection",features:[]};for(const a of r){const i=Object.fromEntries(Object.entries(a).filter(([p])=>p!=="bbox")),l=t.layers[a.layer];s.features.push(g(a.bbox,{properties:{...i,layer_id:l.id}}))}return s}function E(o,t,e){var n;return typeof o=="object"?o[`name_${e}`]||o[`${e}`]||o.name||o.name_en:((n=t==null?void 0:t[o])==null?void 0:n[e])||o}function P(o){let t=o.properties;return{p1945:{pop:t.pop_1945,pal:t.pal_1945&&t.pop_1945?100*t.pal_1945/t.pop_1945:null,jsh:t.jsh_1945&&t.pop_1945?100*t.jsh_1945/t.pop_1945:null,oth:null},p2016:{pop:t.pop_2016,pal:t.pal_2016&&t.pop_2016?100*t.pal_2016/t.pop_2016:null,jsh:t.jsh_2016&&t.pop_2016?100*t.jsh_2016/t.pop_2016:null,oth:t.oth_2016&&t.pop_2016?100*t.oth_2016/t.pop_2016:null}}}function C(o,t,e){let n="";if(e){const r=new Date;r.setTime(r.getTime()+e*24*60*60*1e3),n="; expires="+r.toUTCString()}document.cookie=o+"="+(t||"")+"; SameSite=Strict"+n+"; path=/"}function F(o){const t=o+"=",e=document.cookie.split(";");for(let n=0;n<e.length;n++){let r=e[n];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null}export{j as a,y as b,F as c,_ as d,P as e,d as f,m as g,E as i,b as m,C as s};

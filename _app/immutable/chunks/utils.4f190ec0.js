import{b as i}from"./paths.c2daf974.js";async function h(t,e=window.fetch){return await(await e(t)).json()}async function _(t,e=window.fetch){let o=await e(`${i}/data/places/${t}.json`);return o?await o.json():null}function f(t){let e=["match",["get","status"]];return Object.keys(t).forEach(o=>{e.push(o),e.push(t[o].color)}),e.push("rgba(0,0,0,0)"),e}async function j(t,e,o=window.fetch){let l=await(await o(t)).json();l.sort((s,a)=>s.layer-a.layer);let n={type:"FeatureCollection",features:[]};for(const s of l){let a=Object.fromEntries(Object.entries(s).filter(([r])=>r!="boundaries")),p=e.find(r=>r.id==s.layer);a.year=a.year?a.year.split("-")[0]:p.start_year.split("-")[0],n.features.push({properties:{...a,scale:p.scale,author:p.attribution.split(",")[0]},geometry:s.boundaries})}return n}function w(t,e,o){return o!="en"&&e[o]&&e[o][t]?e[o][t]:t}function y(t){let e=t.properties;return{p1945:{pop:e.pop_1945,pal:e.pal_1945&&e.pop_1945?100*e.pal_1945/e.pop_1945:null,jsh:e.jsh_1945&&e.pop_1945?100*e.jsh_1945/e.pop_1945:null,oth:null},p2016:{pop:e.pop_2016,pal:e.pal_2016&&e.pop_2016?100*e.pal_2016/e.pop_2016:null,jsh:e.jsh_2016&&e.pop_2016?100*e.jsh_2016/e.pop_2016:null,oth:e.oth_2016&&e.pop_2016?100*e.oth_2016/e.pop_2016:null}}}export{j as a,f as b,_ as c,h as g,w as i,y as m};

var z=Object.defineProperty,P=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(t,e,r)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,D=(t,e)=>{for(var r in e||(e={}))Z.call(e,r)&&B(t,r,e[r]);if(O)for(var r of O(e))H.call(e,r)&&B(t,r,e[r]);return t},F=(t,e)=>P(t,S(e));var M={},R={},E=34,C=10,U=13;function L(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function V(t,e){var r=L(t);return function(a,s){return e(r(a),s,t)}}function I(t){var e=Object.create(null),r=[];return t.forEach(function(a){for(var s in a)s in e||r.push(e[s]=s)}),r}function u(t,e){var r=t+"",a=r.length;return a<e?new Array(e-a+1).join(0)+r:r}function q(t){return t<0?"-"+u(-t,6):t>9999?"+"+u(t,6):u(t,4)}function W(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),a=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":q(t.getUTCFullYear())+"-"+u(t.getUTCMonth()+1,2)+"-"+u(t.getUTCDate(),2)+(s?"T"+u(e,2)+":"+u(r,2)+":"+u(a,2)+"."+u(s,3)+"Z":a?"T"+u(e,2)+":"+u(r,2)+":"+u(a,2)+"Z":r||e?"T"+u(e,2)+":"+u(r,2)+"Z":"")}function Y(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function a(o,i){var h,l,p=s(o,function(g,m){if(h)return h(g,m-1);l=g,h=i?V(g,i):L(g)});return p.columns=l||[],p}function s(o,i){var h=[],l=o.length,p=0,g=0,m,b=l<=0,y=!1;o.charCodeAt(l-1)===C&&--l,o.charCodeAt(l-1)===U&&--l;function v(){if(b)return R;if(y)return y=!1,M;var A,N=p,j;if(o.charCodeAt(N)===E){for(;p++<l&&o.charCodeAt(p)!==E||o.charCodeAt(++p)===E;);return(A=p)>=l?b=!0:(j=o.charCodeAt(p++))===C?y=!0:j===U&&(y=!0,o.charCodeAt(p)===C&&++p),o.slice(N+1,A-1).replace(/""/g,'"')}for(;p<l;){if((j=o.charCodeAt(A=p++))===C)y=!0;else if(j===U)y=!0,o.charCodeAt(p)===C&&++p;else if(j!==r)continue;return o.slice(N,A)}return b=!0,o.slice(N,l)}for(;(m=v())!==R;){for(var T=[];m!==M&&m!==R;)T.push(m),m=v();i&&(T=i(T,g++))==null||h.push(T)}return h}function d(o,i){return o.map(function(h){return i.map(function(l){return w(h[l])}).join(t)})}function f(o,i){return i==null&&(i=I(o)),[i.map(w).join(t)].concat(d(o,i)).join(`
`)}function n(o,i){return i==null&&(i=I(o)),d(o,i).join(`
`)}function c(o){return o.map(_).join(`
`)}function _(o){return o.map(w).join(t)}function w(o){return o==null?"":o instanceof Date?W(o):e.test(o+="")?'"'+o.replace(/"/g,'""')+'"':o}return{parse:a,parseRows:s,format:f,formatBody:n,formatRows:c,formatRow:_,formatValue:w}}var G=Y(","),J=G.parse;function K(t){for(var e in t){var r=t[e].trim(),a,s;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(a=+r))r=a;else if(s=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Q&&!!s[4]&&!s[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;t[e]=r}return t}const Q=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();async function X(t,e,r=window.fetch){let s=await(await r(t)).text(),d=J(s,K);d.sort((n,c)=>n.name_en.localeCompare(c.name_en));let f={type:"FeatureCollection",features:[]};for(const n of d.filter(c=>c.change_2016!="Built & abandoned")){let c={type:"Feature",geometry:{type:"Point",coordinates:[n.lng,n.lat]},properties:D({type:n.type_2016?n.type_2016:n.type_1945,group:n.grp_2016?n.grp_2016:n.grp_1945,color:e[n.change_2016].color},n)};c.properties.name_ar=n.name_ar?n.name_ar:n.name_en,f.features.push(c)}return f}async function k(t,e,r=window.fetch){let s=await(await r(t)).json();s.sort((f,n)=>f.layer-n.layer);let d={type:"FeatureCollection",features:[]};for(const f of s){let n=Object.fromEntries(Object.entries(f).filter(([_])=>_!="boundaries")),c=e.find(_=>_.id==f.layer);n.year=n.year?n.year.split("-")[0]:c.start_year.split("-")[0],d.features.push({properties:F(D({},n),{scale:c.scale,author:c.attribution.split(",")[0]}),geometry:f.boundaries})}return d}function x(t,e,r="en",a="en"){return e[r]&&e[r][t]?e[r][t]:e[a]&&e[a][t]?e[a][t]:t}function ee(t){let e=t.properties;return{p1945:{pop:e.pop_1945,pal:e.pal_1945&&e.pop_1945?100*e.pal_1945/e.pop_1945:null,jsh:e.jsh_1945&&e.pop_1945?100*e.jsh_1945/e.pop_1945:null,oth:null},p2016:{pop:e.pop_2016,pal:e.pal_2016&&e.pop_2016?100*e.pal_2016/e.pop_2016:null,jsh:e.jsh_2016&&e.pop_2016?100*e.jsh_2016/e.pop_2016:null,oth:e.oth_2016&&e.pop_2016?100*e.oth_2016/e.pop_2016:null}}}const te="https://docs.google.com/spreadsheets/d/1LejOouylx6u_TKF_1BxvV_B7uI34M4zIWyoc8LozATo/gviz/tq?tqx=out%3Acsv&sheet=database",re="https://palopenmaps.org/api/layers/?format=json",oe="https://palopenmaps.org/api/sheets/?format=json",ne={Remaining:{name:"Remaining",color:"#7ac943",selected:!0},Depopulated:{name:"Depopulated",color:"#fcee21",selected:!0},Appropriated:{name:"Depopulated & appropriated",color:"#f7931e",selected:!0},"Built over":{name:"Depopulated & built over",color:"#ff0000",selected:!0},Abandoned:{name:"Abandoned",color:"#0099ff",selected:!1},"Newly built":{name:"New locality",color:"#777777",selected:!1}},ae={en:{pom:"Palestine Open Maps",baseMaps:"Base maps",overlays:"Overlays",localities:"Localities",getUpdates:"Get updates",download:"Download maps",about:"About"},ar:{pom:"\u062E\u0631\u0627\u0626\u0637 \u0641\u0644\u0633\u0637\u064A\u0646 \u0627\u0644\u0645\u0641\u062A\u0648\u062D\u0629",baseMaps:"\u0627\u0644\u062E\u0631\u0627\u0626\u0637",overlays:"\u0627\u0644\u0637\u0628\u0642\u0627\u062A \u0627\u0644\u0623\u062E\u0631\u0649",localities:"\u0627\u0644\u0628\u0644\u062F\u0627\u062A",getUpdates:"\u062A\u0627\u0628\u0639\u0648\u0627 \u0622\u062E\u0631 \u0627\u0644\u062A\u062D\u062F\u064A\u062B\u0627\u062A",download:"\u062A\u0646\u0632\u064A\u0644 \u0627\u0644\u062E\u0631\u0627\u0626\u0637",about:"\u0639\u0646 \u0627\u0644\u0645\u0634\u0631\u0648\u0639"}};export{k as a,te as b,oe as c,X as g,x as i,re as l,ee as m,ne as s,ae as t};
